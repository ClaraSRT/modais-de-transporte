<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz Ferrovi√°rio - Modais de Transporte</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="theme-ferroviario">
  <header class="header">
    <nav class="navbar">
      <div class="nav-container">
        <h1 class="nav-title">üöõ Modais de Transporte</h1>
        <div class="nav-menu" id="nav-menu">
          <a href="index.html" class="nav-link">In√≠cio</a>
          <a href="quiz.html" class="nav-link">Quiz</a>
          <a href="maquete.html" class="nav-link">Maquete 3D</a>
        </div>
      </div>
    </nav>
  </header>

      <section class="modal-detail-header">
        <div class="container">
            <div class="modal-detail-icon">üöÇ</div>
            <h1>Modal Ferrovi√°rio</h1>
            <p>Transporte de cargas e passageiros sobre trilhos</p>
        </div>
    </section><br><br>

  <section class="quiz-container">
    <div class="container"><br>
      <h2><i class="fas fa-train"></i> Quiz Ferrovi√°rio</h2>
      <h3><p>Responda as perguntas sobre transporte ferrovi√°rio!</p></h3><br>
      <form id="quiz-form-ferroviario">
        <div class="quiz-question">
          <h3>1. O transporte ferrovi√°rio pertence a qual grupo?</h3>
          <label><input type="radio" name="q1" value="0"> Transporte a√©reo</label><br>
          <label><input type="radio" name="q1" value="1"> Transporte aquavi√°rio</label><br>
          <label><input type="radio" name="q1" value="2"> Transporte terrestre</label><br>
          <label><input type="radio" name="q1" value="3"> Transporte rodovi√°rio</label><br>
        </div><br>

        <div class="quiz-question">
          <h3>2. Qual √© o principal uso do transporte ferrovi√°rio no Brasil?</h3>
          <label><input type="radio" name="q2" value="0"> Transporte de passageiros de longa dist√¢ncia</label><br>
          <label><input type="radio" name="q2" value="1"> Transporte de min√©rios e produtos agr√≠colas</label><br>
          <label><input type="radio" name="q2" value="2"> Turismo ferrovi√°rio</label><br>
          <label><input type="radio" name="q2" value="3"> Transporte urbano</label><br>
        </div><br>
        
        <div class="quiz-question">
          <h3>3. Qual das alternativas abaixo N√ÉO √© uma vantagem do transporte ferrovi√°rio?</h3>
          <label><input type="radio" name="q3" value="0"> Custo baixo</label><br>
          <label><input type="radio" name="q3" value="1"> Baixo √≠ndice de roubos</label><br>
          <label><input type="radio" name="q3" value="2"> Percorre longas dist√¢ncias</label><br>
          <label><input type="radio" name="q3" value="3"> Grande n√∫mero de linhas f√©rreas dispon√≠veis no Brasil</label><br>
        </div><br>

        <div class="quiz-question">
          <h3>4. Qual foi o produto respons√°vel pela expans√£o inicial das ferrovias no Brasil no s√©culo XIX?</h3>
          <label><input type="radio" name="q4" value="0"> Caf√©</label><br>
          <label><input type="radio" name="q4" value="1"> Soja</label><br>
          <label><input type="radio" name="q4" value="2"> Min√©rio de ferro</label><br>
          <label><input type="radio" name="q4" value="3"> Carv√£o</label><br>
        </div><br>

        <div class="quiz-question">
          <h3>5. Quantos quil√¥metros, aproximadamente, possui a malha ferrovi√°ria brasileira?</h3>
          <label><input type="radio" name="q5" value="0"> 10 mil km</label><br>
          <label><input type="radio" name="q5" value="1"> 20 mil km</label><br>
          <label><input type="radio" name="q5" value="2"> 30 mil km</label><br>
          <label><input type="radio" name="q5" value="3"> 50 mil km</label><br>
        </div><br><br>

        <button type="submit" class="btn btn-dark"><i class="fas fa-play"></i> Enviar Respostas</button>

      </form>
      <div id="quiz-result" style="margin-top:1rem; font-weight:bold;"></div>
    </div>
  </section><br><br><br><br>
  
  <script src="js/quiz.js"></script>
  <script src="js/main.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const form = document.getElementById('quiz-form-ferroviario');
      const resultDiv = document.getElementById('quiz-result');
      const quiz = quizData.ferroviario;
      const correctAnswers = quiz.questions.map(q => q.correct);

      form.addEventListener('submit', (e) => {
        e.preventDefault();
        let score = 0;
        let incorrectQuestions = [];
        
        const formData = new FormData(form);
        const userAnswers = {};
        for (let [key, value] of formData.entries()) {
          userAnswers[key] = parseInt(value);
        }

        correctAnswers.forEach((correct, index) => {
          const questionName = `q${index + 1}`;
          const userAnswer = userAnswers[questionName];
          if (userAnswer === correct) {
            score++;
          } else {
            incorrectQuestions.push(index + 1);
          }
        });

        const message = score >= 3 ? 
          `Parab√©ns! Voc√™ acertou ${score} de 5 quest√µes.` :
          `Voc√™ acertou ${score} de 5 quest√µes. Tente novamente para ganhar um pr√™mio!`;

        resultDiv.textContent = message;

        // Salvar a pontua√ß√£o e redirecionar
        quizManager.updateScore('ferroviario', score);
        
        setTimeout(() => {
          window.location.href = 'quiz.html';
        }, 3000);
      });
    });
  </script>
</body>
</html>